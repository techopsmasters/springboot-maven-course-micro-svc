pipeline{
    agent any
    tools{
        gradle 'gradle-7.6'
    }
    stages{
        stage('CleanWorkspace') {
            steps {
                cleanWs()
            }
        }
        stage('git checkout'){
            steps{
                git branch: 'main', url: 'https://github.com/techopsmasters/nov13-gradle-demo.git'
            }
        }
        
        stage('build maven project'){
            steps{
                sh 'gradle clean build'
            }
        }

        stage('build and sonarqube Analysis'){
            steps{
                sh '/tmp/sonar-scanner/bin/sonar-scanner'
            } 
        }
     }   
}
